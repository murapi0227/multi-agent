# PR作成前チェックリスト

**最終更新: 2026-02-02**

このドキュメントは、PR（Pull Request）を作成する前に必ず実行すべきチェック項目をまとめたものです。

---

## 基本原則

- **PR作成前には必ず動作確認を実施する**（これは譲れない）
- 小さな進捗報告では詳細なチェックは不要
- **PR作成前のみ、以下のチェックリストを実行する**

---

## フロントエンド実装のチェックリスト

### ステップ1: 開発環境セットアップ（5分）
- [ ] PRブランチをローカルにチェックアウト
- [ ] `npm install` 実行（依存関係更新確認）
- [ ] `npm run dev` でローカルサーバー起動
- [ ] `localhost:3000` にアクセス可能確認

### ステップ2: コンソールエラー確認（2分）
- [ ] Chrome DevTools を開く（F12）
- [ ] Console タブでエラー・警告を確認
- [ ] Network タブで失敗したリクエストを確認
- [ ] **エラーがある場合は即座に差し戻し**

### ステップ3: 実際のUI操作確認（10分）
- [ ] 変更対象の画面にアクセス
- [ ] すべてのボタン・リンクをクリック
- [ ] すべてのドロップダウン・折りたたみを操作
- [ ] 入力フォームがある場合は実際に入力
- [ ] データが正しく表示されることを確認

### ステップ4: レスポンシブ確認（5分）
- [ ] Chrome DevTools → デバイスツールバー（Cmd+Shift+M）
- [ ] デスクトップ（1920x1080）で表示確認
- [ ] タブレット（768x1024）で表示確認
- [ ] モバイル（375x667）で表示確認
- [ ] レイアウト崩れがないことを確認

### ステップ5: スクリーンショット取得（3分）
- [ ] 主要画面のスクリーンショット取得
- [ ] 問題ないことを確認
- [ ] PR説明に添付

**所要時間合計: 約25分**

---

## バックエンド実装のチェックリスト

### ステップ1: API動作確認（10分）
- [ ] `docker-compose up` で起動
- [ ] curl または Postman で APIエンドポイントをテスト
- [ ] レスポンスが正しいことを確認
- [ ] エラーケースもテスト

### ステップ2: テスト実行（5分）
- [ ] `pytest tests/ -v` 実行
- [ ] すべてのテストがパスすることを確認

**所要時間合計: 約15分**

---

## 役割別の責任

### 開発者（dev1, dev2等）の責任
- [ ] 実装完了後、**必ずローカルで動作確認**
- [ ] コンソールエラーがないことを確認
- [ ] 全機能が動作することを確認
- [ ] レスポンシブ確認（フロントエンドの場合）
- [ ] **報告時に確認内容を具体的に記載**
  - 例: 「localhost起動、コンソールエラーなし、全機能動作確認済み」

### マネージャーの責任
- [ ] **開発者の報告を鵜呑みにしない**
- [ ] **必ず自分で動作確認する**（上記チェックリスト実行）
- [ ] 問題があれば即座に差し戻し
- [ ] **PRを承認する前に、必ずチェックリストを実行**

---

## PR作成の必須条件

以下の5項目がすべて満たされない限り、PR作成を承認しない：

1. ✅ 開発者がローカルで動作確認完了
2. ✅ マネージャーがローカルで動作確認完了（チェックリスト実行）
3. ✅ コンソールエラーなし（フロントエンドの場合）
4. ✅ 全機能が正常動作
5. ✅ レスポンシブ確認完了（フロントエンドの場合）

---

## プロセスフロー

```
開発者: 実装
    ↓
開発者: ローカル動作確認（チェックリスト実行）
    ↓
開発者: マネージャーに報告（確認内容を明記）
    ↓
マネージャー: ローカル動作確認（チェックリスト実行）
    ↓
マネージャー: 問題なし → PR作成承認
             問題あり → 開発者に差し戻し
    ↓
PR作成
```

---

## よくある失敗パターン

### ❌NG: 報告を鵜呑みにする
> 開発者: 「テスト完了しました」
> マネージャー: 「了解、PRを出してくれ」（動作確認なし）

### ✅OK: 必ず自分で確認
> 開発者: 「テスト完了しました。localhost起動、コンソールエラーなし、全機能動作確認済みです」
> マネージャー: 「了解。こちらでも動作確認する」（チェックリスト実行）
> マネージャー: 「問題なし。PRを出してくれ」

---

## 継続的改善

- このチェックリストは継続的に更新される
- 新しい失敗パターンが発見されたら追加する
- 各プロジェクトで最適化されたチェックリストを作成可能（.multi-agent/knowledge/ に追加）
